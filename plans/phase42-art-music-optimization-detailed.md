# Phase 42: ç¾æœ¯ä¸éŸ³ä¹ç³»ç»Ÿå¤§è§„æ¨¡ä¼˜åŒ–è®¡åˆ’

## ğŸ“Š ç°æœ‰ç³»ç»Ÿè¯„ä¼°

### âœ… å·²å®Œæˆçš„åŸºç¡€è®¾æ–½

| æ¨¡å— | æ–‡ä»¶ | å®Œæˆåº¦ | è¯„ä¼° |
|------|------|--------|------|
| ä¸»é¢˜ç³»ç»Ÿ | `theme.ts` | 95% | å®Œå–„çš„éœ“è™¹é…è‰²å’Œç»ç’ƒæ€æ•ˆæœ |
| CSSç‰¹æ•ˆ | `effects.css` | 90% | ä¸°å¯Œçš„éœ“è™¹å‘å…‰ã€æ‰«æçº¿æ•ˆæœ |
| åŠ¨ç”»é¢„è®¾ | `presets.ts` | 95% | å®Œæ•´çš„Framer MotionåŠ¨ç”»åº“ |
| éŸ³é¢‘ç®¡ç† | `AudioManager.ts` | 100% | ä¸“ä¸šçº§å•ä¾‹éŸ³æ•ˆç®¡ç†å™¨ |
| éŸ³æ•ˆé…ç½® | `audioAssets.ts` | 100% | å®Œæ•´çš„BGM/SFX/ç¯å¢ƒéŸ³é…ç½® |
| UIç»„ä»¶ | `GlassPanel.tsx`, `NeonButton.tsx` | 90% | é«˜è´¨é‡èµ›åšæœ‹å…‹é£æ ¼ç»„ä»¶ |

### ğŸ”´ éœ€è¦ä¼˜åŒ–/æ–°å¢çš„éƒ¨åˆ†

1. **ç²’å­ç‰¹æ•ˆç³»ç»Ÿ** - å®Œå…¨ç¼ºå¤±
2. **é«˜çº§è§†è§‰æ•ˆæœ** - å¯å¢å¼º
3. **éŸ³é¢‘èµ„æºæ–‡ä»¶** - éœ€è¦å®é™…éŸ³é¢‘æ–‡ä»¶
4. **3D/WebGLæ•ˆæœ** - å¯é€‰å¢å¼º
5. **å“åº”å¼åŠ¨ç”»** - å¯ä¼˜åŒ–

---

## ğŸ¯ ä¼˜åŒ–è®¡åˆ’æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¾æœ¯éŸ³ä¹ä¼˜åŒ–æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 5: æ€§èƒ½ä¼˜åŒ–å±‚                                            â”‚
â”‚  â”œâ”€â”€ GPUåŠ é€Ÿæ¸²æŸ“                                                â”‚
â”‚  â”œâ”€â”€ èµ„æºæ‡’åŠ è½½                                                 â”‚
â”‚  â””â”€â”€ è‡ªé€‚åº”è´¨é‡                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 4: ç²’å­ç‰¹æ•ˆå±‚ (æ–°å¢)                                     â”‚
â”‚  â”œâ”€â”€ ç”Ÿäº§ç²’å­æ•ˆæœ                                               â”‚
â”‚  â”œâ”€â”€ äº¤æ˜“è§†è§‰åé¦ˆ                                               â”‚
â”‚  â””â”€â”€ æˆå°±åº†ç¥ç‰¹æ•ˆ                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 3: é«˜çº§åŠ¨ç”»å±‚                                            â”‚
â”‚  â”œâ”€â”€ å¤æ‚è¿‡æ¸¡æ•ˆæœ                                               â”‚
â”‚  â”œâ”€â”€ æ•°æ®å¯è§†åŒ–åŠ¨ç”»                                             â”‚
â”‚  â””â”€â”€ å…¨æ¯æŠ•å½±æ•ˆæœ                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 2: éŸ³é¢‘ç³»ç»Ÿå±‚ (å·²å®Œæˆ)                                   â”‚
â”‚  â”œâ”€â”€ BGMåŠ¨æ€åˆ‡æ¢                                                â”‚
â”‚  â”œâ”€â”€ äº‹ä»¶éŸ³æ•ˆ                                                   â”‚
â”‚  â””â”€â”€ ç¯å¢ƒéŸ³æ°›å›´                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Layer 1: åŸºç¡€è§†è§‰å±‚ (å·²å®Œæˆ)                                   â”‚
â”‚  â”œâ”€â”€ éœ“è™¹é…è‰²ä¸»é¢˜                                               â”‚
â”‚  â”œâ”€â”€ ç»ç’ƒæ€é¢æ¿                                                 â”‚
â”‚  â””â”€â”€ åŸºç¡€åŠ¨ç”»                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Phase 1: å¢å¼ºè§†è§‰æ•ˆæœç³»ç»Ÿ

### 1.1 å¢å¼ºCSSè§†è§‰æ•ˆæœ

**ç›®æ ‡**: æ‰©å±• effects.css æ·»åŠ æ›´å¤šé«˜çº§æ•ˆæœ

**æ–°å¢æ•ˆæœ**:
```css
/* å…¨æ¯æŠ•å½±æ–‡å­— */
.holographic-text { ... }

/* ç”µè·¯æ¿èƒŒæ™¯å›¾æ¡ˆ */
.circuit-pattern { ... }

/* èƒ½é‡æµåŠ¨è¾¹æ¡† */
.energy-flow-border { ... }

/* é›·è¾¾æ‰«ææ•ˆæœ */
.radar-scan { ... }

/* æ•…éšœè‰ºæœ¯æ•ˆæœ */
.glitch-effect { ... }

/* çŸ©é˜µé›¨èƒŒæ™¯ */
.matrix-rain { ... }
```

### 1.2 æ‰©å±•ä¸»é¢˜é…è‰²

**ç›®æ ‡**: åœ¨ theme.ts ä¸­æ·»åŠ æ›´å¤šä¸»é¢˜å˜ä½“

**æ–°å¢é…è‰²**:
- ç»ˆç«¯ç»¿ä¸»é¢˜
- èµ›åšç´«ä¸»é¢˜
- å¤œé—´æ¨¡å¼æ·±åº¦ä¼˜åŒ–
- é«˜å¯¹æ¯”åº¦æ— éšœç¢ä¸»é¢˜

### 1.3 å¢å¼ºåŠ¨ç”»é¢„è®¾

**ç›®æ ‡**: åœ¨ presets.ts ä¸­æ·»åŠ æ›´å¤æ‚çš„åŠ¨ç”»

**æ–°å¢åŠ¨ç”»**:
```typescript
// æ•°æ®æµå…¥åŠ¨ç”»
export const DATA_STREAM_VARIANTS = { ... }

// å…¨æ¯å‡ºç°åŠ¨ç”»
export const HOLOGRAM_APPEAR_VARIANTS = { ... }

// èƒ½é‡è„‰å†²åŠ¨ç”»
export const ENERGY_PULSE_VARIANTS = { ... }

// è­¦æŠ¥é—ªçƒåŠ¨ç”»
export const ALERT_FLASH_VARIANTS = { ... }
```

---

## ğŸ“‹ Phase 2: ç²’å­ç‰¹æ•ˆç³»ç»Ÿ (æ–°å»º)

### 2.1 ç²’å­å¼•æ“æ ¸å¿ƒ

**åˆ›å»ºæ–‡ä»¶**: `packages/client/src/particles/ParticleEngine.ts`

```typescript
interface Particle {
  x: number;
  y: number;
  vx: number;
  vy: number;
  life: number;
  maxLife: number;
  size: number;
  color: string;
  alpha: number;
}

class ParticleEngine {
  private canvas: HTMLCanvasElement;
  private ctx: CanvasRenderingContext2D;
  private particles: Particle[] = [];
  
  emit(config: EmitConfig): void { }
  update(): void { }
  render(): void { }
}
```

### 2.2 é¢„è®¾ç²’å­æ•ˆæœ

| æ•ˆæœåç§° | ç”¨é€” | ç²’å­æ•°é‡ | æ€§èƒ½å½±å“ |
|----------|------|----------|----------|
| `money-burst` | æ”¶å…¥è·å¾— | 20-50 | ä½ |
| `production-flow` | ç”Ÿäº§è¿›è¡Œä¸­ | 10-20 | ä½ |
| `trade-complete` | äº¤æ˜“æˆåŠŸ | 30-60 | ä¸­ |
| `level-up` | å‡çº§/è§£é” | 100-200 | ä¸­ |
| `fireworks` | é‡å¤§æˆå°± | 200-500 | é«˜ |
| `energy-field` | å»ºç­‘è¿è¡Œ | 5-10/å»ºç­‘ | ä½ |

### 2.3 ç²’å­Reactç»„ä»¶

**åˆ›å»ºæ–‡ä»¶**: `packages/client/src/components/effects/ParticleCanvas.tsx`

```typescript
export const ParticleCanvas: React.FC<{
  effect: string;
  trigger?: boolean;
  position?: { x: number; y: number };
}> = ({ effect, trigger, position }) => {
  // Canvasç²’å­æ¸²æŸ“
}
```

---

## ğŸ“‹ Phase 3: éŸ³é¢‘èµ„æºè§„åˆ’

### 3.1 BGMèµ„æºéœ€æ±‚

| éŸ³è½¨ID | æè¿° | æ—¶é•¿ | é£æ ¼ | ä¼˜å…ˆçº§ |
|--------|------|------|------|--------|
| bgm-menu | ä¸»èœå• | 2-3min | æ°›å›´ç”µå­ | é«˜ |
| bgm-gameplay-calm | å¸¸è§„æ¸¸æˆ | 4-5min | è½»å¿«ç”µå­ | é«˜ |
| bgm-gameplay-intense | ç´§å¼ çŠ¶æ€ | 3-4min | ç´§å¼ ç”µå­ | ä¸­ |
| bgm-research | ç ”å‘ç•Œé¢ | 3-4min | ç§‘æŠ€æ°›å›´ | ä¸­ |
| bgm-trading | äº¤æ˜“ç•Œé¢ | 3-4min | å¿«èŠ‚å¥ | ä¸­ |
| bgm-victory | èƒœåˆ©éŸ³ä¹ | 30-60s | åº†ç¥ | ä½ |

### 3.2 UIéŸ³æ•ˆéœ€æ±‚

| éŸ³æ•ˆID | æè¿° | æ—¶é•¿ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| ui-click | æŒ‰é’®ç‚¹å‡» | <100ms | é«˜ |
| ui-hover | æ‚¬åœ | <50ms | é«˜ |
| ui-panel-open | é¢æ¿æ‰“å¼€ | 200-300ms | é«˜ |
| ui-panel-close | é¢æ¿å…³é—­ | 150-200ms | é«˜ |
| ui-success | æˆåŠŸæç¤º | 300-500ms | é«˜ |
| ui-error | é”™è¯¯æç¤º | 300-400ms | é«˜ |
| ui-warning | è­¦å‘Šæç¤º | 400-600ms | ä¸­ |

### 3.3 æ¸¸æˆäº‹ä»¶éŸ³æ•ˆ

| éŸ³æ•ˆID | æè¿° | æ—¶é•¿ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| trade-buy | ä¹°å…¥æˆåŠŸ | 200-400ms | é«˜ |
| trade-sell | å–å‡ºæˆåŠŸ | 200-400ms | é«˜ |
| money-gain | æ”¶å…¥ | 100-200ms | é«˜ |
| production-complete | ç”Ÿäº§å®Œæˆ | 300-500ms | ä¸­ |
| research-complete | ç ”ç©¶å®Œæˆ | 500-800ms | ä¸­ |
| achievement-unlock | æˆå°±è§£é” | 800-1200ms | ä¸­ |

### 3.4 ç¯å¢ƒéŸ³æ•ˆ

| éŸ³æ•ˆID | æè¿° | å¾ªç¯ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| ambient-city | åŸå¸‚èƒŒæ™¯ | æ˜¯ | é«˜ |
| ambient-datacenter | æ•°æ®ä¸­å¿ƒ | æ˜¯ | ä¸­ |
| ambient-factory | å·¥å‚æœºæ¢° | æ˜¯ | ä¸­ |
| ambient-rain | é›¨å£° | æ˜¯ | ä½ |

---

## ğŸ“‹ Phase 4: UI/UXå¢å¼ºç»„ä»¶

### 4.1 æ–°å¢é«˜çº§ç»„ä»¶

```
packages/client/src/components/effects/
â”œâ”€â”€ ParticleCanvas.tsx      # ç²’å­ç”»å¸ƒ
â”œâ”€â”€ HologramDisplay.tsx     # å…¨æ¯æ˜¾ç¤º
â”œâ”€â”€ DataStreamBorder.tsx    # æ•°æ®æµè¾¹æ¡†
â”œâ”€â”€ GlitchText.tsx          # æ•…éšœæ–‡å­—
â”œâ”€â”€ EnergyMeter.tsx         # èƒ½é‡è¡¨
â”œâ”€â”€ RadarChart.tsx          # é›·è¾¾å›¾
â””â”€â”€ CyberProgress.tsx       # èµ›åšè¿›åº¦æ¡
```

### 4.2 å¢å¼ºç°æœ‰ç»„ä»¶

| ç»„ä»¶ | å¢å¼ºå†…å®¹ |
|------|----------|
| GlassPanel | æ·»åŠ ç”µè·¯çº¹ç†å˜ä½“ |
| NeonButton | æ·»åŠ æ¶Ÿæ¼ªç‚¹å‡»æ•ˆæœ |
| AnimatedNumber | æ·»åŠ 3Dç¿»è½¬æ•ˆæœ |
| StatusIndicator | æ·»åŠ è„‰å†²ç¯æ•ˆæœ |

### 4.3 å›¾è¡¨è§†è§‰å¢å¼º

- Kçº¿å›¾éœ“è™¹å‘å…‰æ•ˆæœ
- æˆäº¤é‡æŸ±çŠ¶å›¾æ¸å˜
- è¶‹åŠ¿çº¿åŠ¨ç”»ç»˜åˆ¶
- æ•°æ®ç‚¹è„‰å†²é«˜äº®

---

## ğŸ“‹ Phase 5: æ€§èƒ½ä¼˜åŒ–

### 5.1 æ¸²æŸ“ä¼˜åŒ–

```typescript
// GPUåŠ é€Ÿé…ç½®
const GPU_ACCELERATED_PROPERTIES = [
  'transform',
  'opacity',
  'filter',
];

// é¿å…çš„å±æ€§
const AVOID_PROPERTIES = [
  'width',
  'height',
  'top',
  'left',
];
```

### 5.2 èµ„æºåŠ è½½ç­–ç•¥

```typescript
// æ‡’åŠ è½½é…ç½®
const LAZY_LOAD_CONFIG = {
  // ç«‹å³åŠ è½½
  immediate: ['ui-click', 'ui-hover', 'bgm-gameplay-calm'],
  
  // é¦–æ¬¡äº¤äº’ååŠ è½½
  onFirstInteraction: ['ui-panel-open', 'trade-buy', 'trade-sell'],
  
  // æŒ‰éœ€åŠ è½½
  onDemand: ['bgm-victory', 'achievement-unlock', 'ambient-*'],
};
```

### 5.3 è‡ªé€‚åº”è´¨é‡

```typescript
interface QualitySettings {
  particleCount: 'low' | 'medium' | 'high';
  animationDetail: 'reduced' | 'full';
  glowEffects: boolean;
  scanlines: boolean;
  ambientSounds: boolean;
}

// æ ¹æ®è®¾å¤‡æ€§èƒ½è‡ªåŠ¨è°ƒæ•´
function detectPerformance(): QualitySettings {
  const fps = measureFPS();
  const memory = navigator.deviceMemory;
  // ...
}
```

---

## ğŸ“… å®æ–½æ—¶é—´è¡¨

```
Week 1: Phase 1 - è§†è§‰æ•ˆæœå¢å¼º
â”œâ”€â”€ Day 1-2: æ‰©å±• effects.css
â”œâ”€â”€ Day 3-4: æ‰©å±• theme.ts
â””â”€â”€ Day 5: æ‰©å±• presets.ts

Week 2: Phase 2 - ç²’å­ç³»ç»Ÿ
â”œâ”€â”€ Day 1-2: ç²’å­å¼•æ“æ ¸å¿ƒ
â”œâ”€â”€ Day 3-4: é¢„è®¾æ•ˆæœ
â””â”€â”€ Day 5: Reactç»„ä»¶å°è£…

Week 3: Phase 3 - éŸ³é¢‘èµ„æº
â”œâ”€â”€ Day 1-2: ç”Ÿæˆ/è·å–éŸ³æ•ˆèµ„æº
â”œâ”€â”€ Day 3-4: é›†æˆæµ‹è¯•
â””â”€â”€ Day 5: éŸ³é‡/éŸ³æ•ˆè°ƒä¼˜

Week 4: Phase 4-5 - UIå¢å¼ºä¸ä¼˜åŒ–
â”œâ”€â”€ Day 1-2: æ–°å¢é«˜çº§ç»„ä»¶
â”œâ”€â”€ Day 3: å¢å¼ºç°æœ‰ç»„ä»¶
â”œâ”€â”€ Day 4: æ€§èƒ½ä¼˜åŒ–
â””â”€â”€ Day 5: é›†æˆæµ‹è¯•ä¸è°ƒä¼˜
```

---

## ğŸ“¦ äº¤ä»˜ç‰©æ¸…å•

### æ–°å»ºæ–‡ä»¶
- [ ] `packages/client/src/particles/ParticleEngine.ts`
- [ ] `packages/client/src/particles/presets.ts`
- [ ] `packages/client/src/particles/index.ts`
- [ ] `packages/client/src/components/effects/ParticleCanvas.tsx`
- [ ] `packages/client/src/components/effects/HologramDisplay.tsx`
- [ ] `packages/client/src/components/effects/GlitchText.tsx`
- [ ] `packages/client/src/components/effects/index.ts`
- [ ] `packages/client/public/audio/` (éŸ³é¢‘èµ„æºç›®å½•)

### ä¿®æ”¹æ–‡ä»¶
- [ ] `packages/client/src/styles/effects.css` (å¢å¼º)
- [ ] `packages/client/src/styles/theme.ts` (å¢å¼º)
- [ ] `packages/client/src/animations/presets.ts` (å¢å¼º)
- [ ] `packages/client/src/components/ui/GlassPanel.tsx` (å¢å¼º)
- [ ] `packages/client/src/components/ui/NeonButton.tsx` (å¢å¼º)

### éŸ³é¢‘èµ„æº
- [ ] BGMæ–‡ä»¶ (6ä¸ª)
- [ ] UIéŸ³æ•ˆ (12ä¸ª)
- [ ] æ¸¸æˆéŸ³æ•ˆ (15ä¸ª)
- [ ] ç¯å¢ƒéŸ³ (6ä¸ª)

---

## ğŸ® æœ€ç»ˆæ•ˆæœé¢„æœŸ

### è§†è§‰æ•ˆæœ
- âœ¨ æµç•…çš„èµ›åšæœ‹å…‹éœ“è™¹å‘å…‰
- ğŸŒŠ åŠ¨æ€ç²’å­ç‰¹æ•ˆ
- ğŸ”® å…¨æ¯æŠ•å½±ç•Œé¢å…ƒç´ 
- âš¡ ç”µè·¯çº¹ç†èƒŒæ™¯
- ğŸŒ§ï¸ çŸ©é˜µé›¨è£…é¥°æ•ˆæœ

### éŸ³æ•ˆä½“éªŒ
- ğŸµ æ°›å›´èƒŒæ™¯éŸ³ä¹
- ğŸ”Š æ¸…è„†çš„UIåé¦ˆéŸ³æ•ˆ
- ğŸ’° æ»¡è¶³æ„Ÿçš„äº¤æ˜“éŸ³æ•ˆ
- ğŸ­ æ²‰æµ¸çš„ç¯å¢ƒéŸ³æ•ˆ

### æ€§èƒ½è¡¨ç°
- âš¡ 60fpsæµç•…åŠ¨ç”»
- ğŸ“± ç§»åŠ¨è®¾å¤‡é€‚é…
- ğŸ’¾ èµ„æºæ‡’åŠ è½½
- ğŸ”‹ ä½åŠŸè€—æ¨¡å¼æ”¯æŒ

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³å¼€å§‹**: æ‰©å±•CSSè§†è§‰æ•ˆæœ
2. **ä¼˜å…ˆå®ç°**: ç²’å­å¼•æ“å’ŒåŸºç¡€æ•ˆæœ
3. **å¹¶è¡Œè¿›è¡Œ**: éŸ³é¢‘èµ„æºå‡†å¤‡
4. **æŒç»­ä¼˜åŒ–**: æ€§èƒ½ç›‘æ§å’Œè°ƒä¼˜